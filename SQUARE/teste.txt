<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Triangulação de Delaunay com d3.js em um canvas</title>
    <style>
      canvas {
        border: 1px solid black;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/d3-delaunay.v4.min.js"></script>
    <script>
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");
      const width = canvas.width;
      const height = canvas.height;
      
      const n = 20;
      const points = Array.from({length: n}, () => [Math.random() * width, Math.random() * height]);
      
      // Fazer triangulação de Delaunay
      const delaunay = d3.Delaunay.from(points);
      const triangles = delaunay.trianglePolygons();
      
      // Plotar triangulação de Delaunay
      context.strokeStyle = "black";
      context.lineWidth = 1;
      triangles.forEach(triangle => {
        context.beginPath();
        context.moveTo(triangle[0][0], triangle[0][1]);
        context.lineTo(triangle[1][0], triangle[1][1]);
        context.lineTo(triangle[2][0], triangle[2][1]);
        context.closePath();
        context.stroke();
      });
    </script>
  </body>
</html>
